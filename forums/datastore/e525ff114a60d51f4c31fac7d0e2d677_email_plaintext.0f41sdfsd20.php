<?php

return <<<'VALUE'
"namespace IPS\\Theme;\n\tfunction email_html_core_warning( $warning, $email ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\nCONTENT;\n\n$content = $warning->content();\n$return .= <<<CONTENT\n\n\n\nCONTENT;\n\nif ( $content && $content instanceof \\IPS\\Content\\Comment ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\n$item = $content->item();\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_comment\", FALSE, array( 'sprintf' => array( \\IPS\\Member::load( $warning->moderator )->name, $item->indefiniteArticle( $email->language ) ) ) )} <a href='{$content->url()->setQueryString( '_warn', $warning->id )}'>{$content->item()->mapped('title')}<\/a>\n\nCONTENT;\n\nelseif ( $content ):\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_item\", FALSE, array( 'sprintf' => array( \\IPS\\Member::load( $warning->moderator )->name, $content->indefiniteArticle( $email->language ) ) ) )} <a href='{$content->url()->setQueryString( '_warn', $warning->id )}'>{$content->mapped('title')}<\/a>\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_other\", FALSE, array( 'sprintf' => array( \\IPS\\Member::load( $warning->moderator )->name ) ) )}\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n<br \/>\n<br \/>\n<table width='100%' cellpadding='15' cellspacing='0' border='0' style='background: #f9f9f9;'>\n\t<tr>\n\t\t<td dir='{dir}'>\n\t\t\t<table width='100%' cellpadding='0' cellspacing='0' border='0' style='background: #f9f9f9;' class='responsive_table'>\n\t\t\t\t\nCONTENT;\n\nif ( $warning->canViewDetails() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<tr class='responsive_row'>\n\t\t\t\t\t\t<td dir='{dir}' width='150' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px; vertical-align: top;\"><strong>{$email->language->addToStack(\"email_warn_reason\", FALSE)}:<\/strong><\/td>\n\t\t\t\t\t\t<td dir='{dir}' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">{$email->language->addToStack(\"core_warn_reason_\". $warning->reason, FALSE)}<\/td>\n\t\t\t\t\t<\/tr>\t\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $content ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<tr class='responsive_row'>\n\t\t\t\t\t\t<td dir='{dir}' width='150' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px; vertical-align: top;\"><strong>{$email->language->addToStack(\"email_warn_source\", FALSE)}:<\/strong><\/td>\n\t\t\t\t\t\t<td dir='{dir}' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">\n\t\t\t\t\t\t\t<a href='{$content->url()->setQueryString( '_warn', $warning->id )}'>\nCONTENT;\n\nif ( $content instanceof \\IPS\\Content\\Comment ):\n$return .= <<<CONTENT\n{$content->item()->mapped('title')}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$content->mapped('title')}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\t\t\t\t\t\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $warning->canViewDetails() or $warning->mq or $warning->rpa or $warning->suspend ):\n$return .= <<<CONTENT\n\t\t\t\t\n\t\t\t\t\t<tr class='responsive_row'>\n\t\t\t\t\t\t<td dir='{dir}' width='150' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px; vertical-align: top;\"><strong>{$email->language->addToStack(\"email_warn_penalty\", FALSE)}:<\/strong><\/td>\n\t\t\t\t\t\t<td dir='{dir}' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">\n\t\t\t\t\t\t\t<ul style=\"margin: 0; padding: 0; font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->canViewDetails() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->expire_date ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->expire_date < time() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->expire_date == -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"warn_action_points_never_expire\", FALSE, array( 'sprintf' => array( $warning->points ) ) )}\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"warn_action_points_expired\", FALSE, array( 'sprintf' => array( $warning->points, \\IPS\\DateTime::ts( $warning->expire_date ) ) ) )}\n\t\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"warn_action_points_expire\", FALSE, array( 'sprintf' => array( $warning->points, \\IPS\\DateTime::ts( $warning->expire_date ) ) ) )}\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"warn_action_points\", FALSE, array( 'sprintf' => array( $warning->points ) ) )}\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->mq ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"moderation_modq\", FALSE)} - \n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->mq == -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"indefinitely\", FALSE)}\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->mq ), 2, $email->language ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->rpa ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"moderation_nopost\", FALSE)} - \n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->rpa == -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"indefinitely\", FALSE)}\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->rpa ), 2, $email->language ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->suspend ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"moderation_banned\", FALSE)} - \n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $warning->suspend == -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t{$email->language->addToStack(\"indefinitely\", FALSE)}\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->suspend ), 2, $email->language ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/ul>\t\t\t\t\t\t\t\n\t\t\t\t\t\t<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $warning->note_member ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<tr class='responsive_row'>\n\t\t\t\t\t\t<td dir='{dir}' width='150' height='25'>&nbsp;<\/td>\n\t\t\t\t\t\t<td dir='{dir}'>&nbsp;<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\t<tr class='responsive_row'>\n\t\t\t\t\t\t<td dir='{dir}' width='150' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px; vertical-align: top;\"><strong>{$email->language->addToStack(\"email_warn_note\", FALSE)}:<\/strong><\/td>\n\t\t\t\t\t\t<td dir='{dir}' style=\"font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">{$email->parseTextForEmail( $warning->note_member, $email->language )}<\/td>\n\t\t\t\t\t<\/tr>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/table>\n\t\t<\/td>\n\t<\/tr>\n<\/table>\n<br \/>\n\n\nCONTENT;\n\nif ( \\IPS\\Settings::i()->warnings_acknowledge && !$warning->acknowledged && $warning->canAcknowledge( \\IPS\\Member::load($warning->member)) ):\n$return .= <<<CONTENT\n\n    <strong style=\"color: #a72336; font-family: 'Helvetica Neue', helvetica, sans-serif; font-size: 14px;\">{$email->language->addToStack(\"email_warn_acknowledge\", FALSE)}<\/strong><br \/>\n    <a href='{$warning->url()}' style=\"color: #ffffff; font-family: 'Helvetica Neue', helvetica, sans-serif; text-decoration: none; font-size: 14px; background: \nCONTENT;\n\n$return .= \\IPS\\Settings::i()->email_color;\n$return .= <<<CONTENT\n; line-height: 32px; padding: 0 10px; display: inline-block; border-radius: 3px;\">{$email->language->addToStack(\"email_warn_acknowledge_button\", FALSE)}<\/a>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n<br \/><br \/>\n<em style='color: #8c8c8c'>&mdash; \nCONTENT;\n\n$return .= \\IPS\\Settings::i()->board_name;\n$return .= <<<CONTENT\n<\/em>\n\nCONTENT;\n\n\t\treturn $return;\n}\n\tfunction email_plaintext_core_warning( $warning, $email ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$content = $warning->content();\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $content && $content instanceof \\IPS\\Content\\Comment ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\n$item = $content->item();\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_comment\", FALSE, array( 'htmlsprintf' => array( \\IPS\\Member::load( $warning->moderator )->name, $item->indefiniteArticle( $email->language ) ) ) )} {$content->item()->mapped('title')}\n\nCONTENT;\n\nelseif ( $content ):\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_item\", FALSE, array( 'htmlsprintf' => array( \\IPS\\Member::load( $warning->moderator )->name, $content->indefiniteArticle( $email->language ) ) ) )} {$content->mapped('title')}\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t{$email->language->addToStack(\"email_warned_other\", FALSE, array( 'htmlsprintf' => array( \\IPS\\Member::load( $warning->moderator )->name ) ) )}\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n=====\n\nCONTENT;\n\nif ( $warning->canViewDetails() ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"email_warn_reason\", FALSE)}:{$email->language->addToStack(\"core_warn_reason_\" . $warning->reason, FALSE)}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $content ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"email_warn_source\", FALSE)}: \nCONTENT;\n\nif ( $content instanceof \\IPS\\Content\\Comment ):\n$return .= <<<CONTENT\n{$content->item()->mapped('title')}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n{$content->mapped('title')}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nif ( $warning->canViewDetails() or $warning->mq or $warning->rpa or $warning->suspend ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"email_warn_penalty\", FALSE)}:\n\t\nCONTENT;\n\nif ( $warning->canViewDetails() ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( $warning->expire_date ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( $warning->expire_date < time() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $warning->expire_date == -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t{$email->language->addToStack(\"warn_action_points_never_expire\", FALSE, array( 'htmlsprintf' => array( $warning->points ) ) )}\n\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t{$email->language->addToStack(\"warn_action_points_expired\", FALSE, array( 'htmlsprintf' => array( $warning->points, \\IPS\\DateTime::ts( $warning->expire_date ) ) ) )}\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t{$email->language->addToStack(\"warn_action_points_expire\", FALSE, array( 'htmlsprintf' => array( $warning->points, \\IPS\\DateTime::ts( $warning->expire_date ) ) ) )}\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t{$email->language->addToStack(\"warn_action_points\", FALSE, array( 'htmlsprintf' => array( $warning->points ) ) )}\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\t\t\t\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $warning->mq ):\n$return .= <<<CONTENT\n\n\t\t{$email->language->addToStack(\"moderation_modq\", FALSE)} - \nCONTENT;\n\nif ( $warning->mq == -1 ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"indefinitely\", FALSE)}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->mq ), 2, $email->language );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $warning->rpa ):\n$return .= <<<CONTENT\n\n\t\t{$email->language->addToStack(\"moderation_nopost\", FALSE)} - \nCONTENT;\n\nif ( $warning->rpa == -1 ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"indefinitely\", FALSE)}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->rpa ), 2, $email->language );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $warning->suspend ):\n$return .= <<<CONTENT\n\n\t\t{$email->language->addToStack(\"moderation_banned\", FALSE)} - \nCONTENT;\n\nif ( $warning->suspend == -1 ):\n$return .= <<<CONTENT\n{$email->language->addToStack(\"indefinitely\", FALSE)}\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= \\IPS\\DateTime::formatInterval( new \\DateInterval( $warning->suspend ), 2, $email->language );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n=====\n\n\nCONTENT;\n\nif ( \\IPS\\Settings::i()->warnings_acknowledge && !$warning->acknowledged && $warning->canAcknowledge(\\IPS\\Member::load($warning->member)) ):\n$return .= <<<CONTENT\n\n\t**{$email->language->addToStack(\"email_warn_acknowledge\", FALSE)}**\n\t{$email->language->addToStack(\"email_warn_acknowledge_button\", FALSE)}: {$warning->url()}\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n-- \nCONTENT;\n\n$return .= \\IPS\\Settings::i()->board_name;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\n\t\treturn $return;\n}"
VALUE;
