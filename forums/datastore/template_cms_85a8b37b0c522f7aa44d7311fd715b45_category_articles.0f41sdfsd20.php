<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_cms_database_category_articles\n{\n\tfunction entry( $record, $database ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<article class='cCmsCategoryFeaturedEntry ipsClear ipsClearfix \nCONTENT;\n\nif ( $record->hidden() ):\n$return .= <<<CONTENT\nipsModerated\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t<!-- <header class='ipsPhotoPanel ipsPhotoPanel_notPhone ipsPhotoPanel_small ipsSpacer_bottom'>\n\t\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\" )->userPhoto( $record->author() );\n$return .= <<<CONTENT\n\n\t\t<div> \n\t\t\t<h2 class='ipsType_pageTitle'>\n\t\t\t\t\nCONTENT;\n\nif ( $record->prefix() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\" )->prefix( $record->prefix( TRUE ), $record->prefix() );\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('pinned') || $record->mapped('featured') || $record->hidden() === -1 || $record->hidden() === 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->hidden() === -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning\" data-ipsTooltip title='\nCONTENT;\n$return .= htmlspecialchars( $record->hiddenBlurb(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><i class='fa fa-eye-slash'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nelseif ( $record->hidden() === 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'pending_approval', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-warning'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('pinned') ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'pinned', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-thumb-tack'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('featured') ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'featured', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-star'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\n\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" title=\"\nCONTENT;\n\n$sprintf = array($record->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'read_more_about', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->unread() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class='ipsItemStatus' data-ipsTooltip title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_unread_record', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><i class=\"fa fa-circle\"><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= htmlspecialchars( $record->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/a>\n\t\t\t<\/h2>\n\t\t\t<p class='ipsType_light ipsType_reset'>\n\t\t\t\t\nCONTENT;\n\n$htmlsprintf = array($record->author()->link(), $record->container()->url(), $record->container()->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_byline', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'htmlsprintf' => $htmlsprintf ) );\n$return .= <<<CONTENT\n\nCONTENT;\n\n$val = ( $record->record_publish_date instanceof \\IPS\\DateTime ) ? $record->record_publish_date : \\IPS\\DateTime::ts( $record->record_publish_date );$return .= $val->html();\n$return .= <<<CONTENT\n\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/header> -->\n  <div class='wa_theme_image'>\n  \nCONTENT;\n\nif ( $record->record_image ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsColumn ipsColumn_medium'>\n\t\t\t\t<div class=\"cCmsRecord_image\">\n                  <a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t<img class=\"ipsImage\" src=\"\nCONTENT;\n\n$return .= \\IPS\\File::get( \"cms_Records\", $record->_record_image_thumb )->url;\n$return .= <<<CONTENT\n\">\n                    <\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n      \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n    <\/div>\n  <div class='wa_theme_desc'>\n  <h2 class='ipsType_pageTitle'>\n    <div data-ipsTruncate data-ipsTruncate-type=\"remove\" data-ipsTruncate-size=\"2 lines\">\n\t\t\t\t\nCONTENT;\n\nif ( $record->prefix() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\" )->prefix( $record->prefix( TRUE ), $record->prefix() );\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('pinned') || $record->mapped('featured') || $record->hidden() === -1 || $record->hidden() === 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->hidden() === -1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning\" data-ipsTooltip title='\nCONTENT;\n$return .= htmlspecialchars( $record->hiddenBlurb(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'><i class='fa fa-eye-slash'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nelseif ( $record->hidden() === 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_warning\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'pending_approval', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-warning'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('pinned') ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'pinned', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-thumb-tack'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->mapped('featured') ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class=\"ipsBadge ipsBadge_icon ipsBadge_small ipsBadge_positive\" data-ipsTooltip title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'featured', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-star'><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\n\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" title=\"\nCONTENT;\n\n$sprintf = array($record->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'read_more_about', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t\nCONTENT;\n\nif ( $record->unread() ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span class='ipsItemStatus' data-ipsTooltip title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_unread_record', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"><i class=\"fa fa-circle\"><\/i><\/span>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= htmlspecialchars( $record->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/a>\n      <\/div>\n\t\t\t<\/h2>\n    <div class='wa_theme_image'>\n     \nCONTENT;\n\nif ( $record->record_image ):\n$return .= <<<CONTENT\n\n\t\t\t<div class='ipsColumn ipsColumn_medium'>\n\t\t\t\t<div class=\"cCmsRecord_image\">\n                  <a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t<img class=\"ipsImage\" src=\"\nCONTENT;\n\n$return .= \\IPS\\File::get( \"cms_Records\", $record->_record_image_thumb )->url;\n$return .= <<<CONTENT\n\">\n                    <\/a>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n      \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n      <\/div>\n\t\nCONTENT;\n\nif ( count( $record->customFieldsForDisplay('listing') ) ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsDataItem_meta'>\n          <a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\nCONTENT;\n\nforeach ( $record->customFieldsForDisplay('listing') as $fieldId => $fieldValue ):\n$return .= <<<CONTENT\n\n\t\t\t\n            \nCONTENT;\n\nif ( ($fieldId == 'teaser_paragraph' && mb_strlen(trim($fieldValue)) < 63) ):\n$return .= <<<CONTENT\n\n \n                \nCONTENT;\n\n$fieldValue = false;\n$return .= <<<CONTENT\n\n                <div data-ipsTruncate data-ipsTruncate-type=\"remove\" data-ipsTruncate-size=\"3 lines\">{$record->truncated()}<\/div>\n            \nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n            \nCONTENT;\n\nif ( $fieldValue ):\n$return .= <<<CONTENT\n\n\t\t\t\t{$fieldValue}\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n          <\/a>\n\t\t<\/div>\n\n    <!--  \nCONTENT;\n\nif ( strlen($record->customFieldDisplayByKey('teaser_paragraph'))<30 ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nforeach ( $record->customFieldsForDisplay('listing') as $fieldId => $fieldValue ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( $fieldValue ):\n$return .= <<<CONTENT\n\n\t\t\t\t{$fieldValue}\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n            \nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n              {$record->truncated()}\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n --->\n    \n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n  <div \nCONTENT;\n\nif ( $record->record_image ):\n$return .= <<<CONTENT\nclass='ipsColumns ipsColumns_collapsePhone'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\n\t\t\t<div class='ipsColumn ipsColumn_fluid'>\n\t\t\n\n\t\t\t\t<!-- <section class='ipsType_normal ipsType_richText ipsType_break ipsSpacer_bottom' data-ipsTruncate data-ipsTruncate-size='7 lines' data-ipsTruncate-type='remove'>\n\t\t\t\t\t{$record->truncated()}\n\t\t\t\t<\/section> -->\n\n\t\t\t\t<!-- \nCONTENT;\n\nif ( count( $record->tags() ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\" )->tags( $record->tags() );\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n -->\n\t\t\t\t<ul class='ipsList_inline ipsClear'>\n\t\t\t\t\t<li title='\u0414\u0430\u0442\u0430' data-ipstooltip=\"\"><i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"><\/i> \nCONTENT;\n\n$val = ( $record->record_publish_date instanceof \\IPS\\DateTime ) ? $record->record_publish_date : \\IPS\\DateTime::ts( $record->record_publish_date );$return .= $val->html();\n$return .= <<<CONTENT\n \nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\DateTime::ts( $record->record_publish_date )->format( 'H:i' ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\t\t\nCONTENT;\n\nif ( $record::database()->options['reviews'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li>\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\" )->rating( 'small', $record->averageReviewRating(), \\IPS\\Settings::i()->reviews_rating_out_of );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n                    <!--\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->inGroup( array( 15, 14, 21, 20, 10, 12, 8, 16, 7, 17, 3, 19, 2, 22, 23, 24, 25 ) ) ):\n$return .= <<<CONTENT\n\n                    <li title='\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b' class='ipsType_light'><i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i> \nCONTENT;\n$return .= htmlspecialchars( $record->record_views, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n-->\n\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->inGroup( array( 4, 13 ) ) ):\n$return .= <<<CONTENT\n\n                    <li title='\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b' class='ipsType_light'><i class=\"fa fa-eye\" aria-hidden=\"true\"><\/i> \nCONTENT;\n$return .= htmlspecialchars( $record->record_views, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n                    <li title='\u041e\u0442\u0432\u0435\u0442\u044b' data-ipstooltip=\"\"class='wa_news_comments'><a href='\nCONTENT;\n$return .= htmlspecialchars( $record->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n#comments' title='\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'view_comments', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n'><i class='fa fa-commenting'><\/i> \nCONTENT;\n$return .= htmlspecialchars( $record->record_comments, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t\t<li title='\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f' data-ipstooltip=\"\" class='ipsType_light'><i class=\"fa fa-folder-open\" aria-hidden=\"true\"><\/i> <a href=\"\nCONTENT;\n$return .= htmlspecialchars( $record->container()->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $record->container()->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/a><\/li>\n\t\t\t\t<\/ul>\n\n\t\t\nCONTENT;\n\nif ( $record->record_image ):\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/div>\n  <\/div>\n\t\n<\/article>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction index( $database, $articles, $url, $pagination ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsPageHeader ipsClearfix ipsSpacer_bottom'>\n\t\nCONTENT;\n\nif ( $database->use_categories ):\n$return .= <<<CONTENT\n\n\t<div class='ipsPos_right ipsResponsive_noFloat'>\n\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString('show', 'categories'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class=\"ipsButton ipsButton_medium ipsButton_fullWidth ipsButton_link\"><i class=\"fa fa-folder-open\"><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_show_categories', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<h1 class='ipsType_pageTitle'>\nCONTENT;\n$return .= htmlspecialchars( $database->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/h1>\n\t\nCONTENT;\n\nif ( $database->_description ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsPageHeader_info ipsType_light'>\n\t\t\t\nCONTENT;\n$return .= htmlspecialchars( $database->_description, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\n\n\nCONTENT;\n\nif ( $database->can('add') or \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n\n\t<ul class=\"ipsToolList ipsToolList_horizontal ipsClearfix ipsSpacer_both ipsResponsive_hidePhone\">\n\t\t\nCONTENT;\n\nif ( $database->can('add') ):\n$return .= <<<CONTENT\n\n\t\t\t<li class='ipsToolList_primaryAction'>\n\t\t\t\t<a class=\"ipsButton ipsButton_medium ipsButton_important ipsButton_fullWidth\" \nCONTENT;\n\nif ( $database->use_categories ):\n$return .= <<<CONTENT\ndata-ipsDialog=\"1\" data-ipsDialog-size=\"narrow\" data-ipsDialog-title=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_select_category', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n href=\"\nCONTENT;\n$return .= htmlspecialchars( $url->setQueryString( array( 'do' => 'form', 'd' => \\IPS\\cms\\Databases\\Dispatcher::i()->databaseId ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n\n$sprintf = array($database->recordWord( 1 )); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cms_add_new_record_button', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/ul>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n<hr class='ipsHr'>\n<section class='ipsType_normal ipsSpacer_both'>\n\t\nCONTENT;\n\nif ( count($articles) ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nforeach ( $articles as $id => $record ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"category_articles\", \"cms\", 'database' )->entry( $record, $database );\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/section>\n\nCONTENT;\n\nif ( $database->featured_settings['pagination'] and ( $pagination['pages'] > 1 ) ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\n$return .= \\IPS\\cms\\_Theme::i()->getTemplate( \"global\", \"core\", 'global' )->pagination( $url, $pagination['pages'], $pagination['page'], $database->featured_settings['perpage'], TRUE, 'page' );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
