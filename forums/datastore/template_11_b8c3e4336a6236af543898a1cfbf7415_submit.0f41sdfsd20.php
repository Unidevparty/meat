<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_gallery_front_submit extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = 'ed3c64ff19a712915835e09395045125';\n\tfunction categorySelector( $form ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\nif ( !\\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->pageHeader( \\IPS\\Member::loggedIn()->language()->addToStack('choose_category') );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t<div class='ipsPad'>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t{$form}\n\nCONTENT;\n\nif ( \\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\n\n\t<\/div>\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction chooseAlbum( $category, $createAlbumForm, $canCreateAlbum, $maximumAlbums, $existingAlbumForm ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='cGalleryChooseAlbum_wrap' data-controller='gallery.front.submit.chooseCategory'>\n\t<div data-role='chooseAlbumType' class='cGalleryChooseAlbum_list'>\n\t\t<ul class='ipsList_reset'>\n\t\t\t\nCONTENT;\n\nif ( $category->allow_albums != 2 ):\n$return .= <<<CONTENT\n\n\t\t\t\t<li>\n\t\t\t\t\t<a href='#' class='cGalleryChooseAlbum_listItem' data-type='category'>\n\t\t\t\t\t\t<h2 class='ipsType_sectionHead'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'use_no_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t\t\t\t<p class='ipsType_reset ipsType_light ipsTruncate ipsTruncate_line'>\nCONTENT;\n\n$sprintf = array($category->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_directly_to', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n<\/p>\n\t\t\t\t\t<\/a>\n\t\t\t\t\t<form action=\"\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Http\\Url::internal( \"app=gallery&module=gallery&controller=submit&category={$category->_id}&noAlbum=1\", null, \"gallery_submit\", array(), 0 ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', TRUE );\n$return .= <<<CONTENT\n\" class='ipsHide'>\n\t\t\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_primary\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'use_no_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-right'><\/i><\/button>\t\n\t\t\t\t\t<\/form>\n\t\t\t\t<\/li>\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<li>\n\t\t\t\t<a href='#' class='cGalleryChooseAlbum_listItem' data-type='createAlbum' \nCONTENT;\n\nif ( !$canCreateAlbum || !$createAlbumForm ):\n$return .= <<<CONTENT\ndata-disabled\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t<h2 class='ipsType_sectionHead'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'create_new_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t\t\t<p class='ipsType_reset ipsType_light'>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $createAlbumForm ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_new_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nelseif ( !$canCreateAlbum ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'cannot_create_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$sprintf = array($maximumAlbums); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'used_max_albums', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t\t<li>\n\t\t\t\t<a href='#' class='cGalleryChooseAlbum_listItem' data-type='existingAlbum' \nCONTENT;\n\nif ( !$existingAlbumForm ):\n$return .= <<<CONTENT\ndata-disabled\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t<h2 class='ipsType_sectionHead'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'choose_existing_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t\t\t<p class='ipsType_reset ipsType_light'>\n\t\t\t\t\t\t\nCONTENT;\n\nif ( $existingAlbumForm ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'choose_existing_album_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_existing_albums', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/a>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/div>\n\n\t\nCONTENT;\n\nif ( $createAlbumForm ):\n$return .= <<<CONTENT\n\n\t\t<div data-role='createAlbumForm' class='ipsHide'>\n\t\t\t{$createAlbumForm}\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $existingAlbumForm ):\n$return .= <<<CONTENT\n\n\t\t<div data-role='existingAlbumForm' class='ipsHide'>\n\t\t\t{$existingAlbumForm}\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction chooseCategory( $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar, $form=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div data-controller='gallery.front.submit.chooseCategory' data-preselected-album=\"\nCONTENT;\n\n$return .= htmlspecialchars( \\IPS\\Request::i()->album, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='cGallerySubmit_chooseCategory'>\n\t<form accept-charset='utf-8' class=\"ipsForm \nCONTENT;\n$return .= htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" \nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\nenctype=\"multipart\/form-data\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nforeach ( $attributes as $k => $v ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n data-ipsForm data-role='categoryForm'>\n\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( \\is_array($v) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nforeach ( $v as $_k => $_v ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[\nCONTENT;\n$return .= htmlspecialchars( $_k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n]\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $_v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<div class='ipsGrid ipsGrid_collapsePhone ipsPad cGallerySubmit_albumChoice ipsSpacer_top ipsSpacer_double'>\n\t\t\t<div class='ipsGrid_span12'>\n\t\t\t\t{$elements['']['image_category']->html()}\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class=\"ipsAreaBackground_light ipsClearfix ipsPad ipsType_center ipsJS_hide\" data-role=\"continueCategory\">\n\t\t\t\nCONTENT;\n\nforeach ( $actionButtons as $button ):\n$return .= <<<CONTENT\n\n\t\t\t\t{$button}\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t<\/form>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction container( $container ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsType_medium'>\n\t\nCONTENT;\n\nif ( $container['album'] ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$sprintf = array($container['album']->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_submit_prefix_album', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$sprintf = array($container['category']->_title); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_submit_prefix_cat', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction createAlbum( $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar, $form=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<form accept-charset='utf-8' class=\"ipsForm \nCONTENT;\n$return .= htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" \nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\nenctype=\"multipart\/form-data\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nforeach ( $attributes as $k => $v ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n data-ipsForm>\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\is_array($v) ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nforeach ( $v as $_k => $_v ):\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[\nCONTENT;\n$return .= htmlspecialchars( $_k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n]\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $_v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $uploadField, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t<input type=\"hidden\" name=\"plupload\" value=\"\nCONTENT;\n\n$return .= htmlspecialchars( md5( mt_rand() ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<ul class='ipsList_reset cGalleryDialog_formPanel'>\n\t\t\nCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( \\in_array( $inputName, array( 'album_name', 'album_description' ) ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( \\is_object( $input )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t{$input->rowHtml($form)}\n\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t{$input}\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<li class='ipsFieldRow' id='elAlbumExtrasRow'>\n\t\t\t<ul class='ipsList_inline ipsSpacer_top ipsType_medium'>\n\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['']['set_album_owner'] ) && \\count( $elements['']['set_album_owner']->options['options'] ) > 1 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href='#elAlbumCreate_owner_menu' id='elAlbumCreate_owner' data-ipsMenu data-ipsMenu-appendTo='#elAlbumExtrasRow' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'album_create_owner', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( ( isset( $elements['']['album_type'] ) && \\count( $elements['']['album_type']->options['options'] ) > 1 ) OR ( isset( $elements['']['album_submit_type'] ) && \\count( $elements['']['album_submit_type']->options['options'] ) > 1 ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href='#elAlbumCreate_privacy_menu' id='elAlbumCreate_privacy' data-ipsMenu data-ipsMenu-appendTo='#elAlbumExtrasRow' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'album_create_privacy', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( isset( $elements['']['album_sort_options'] ) || isset( $elements['']['album_allow_comments'] ) || isset( $elements['']['album_allow_reviews'] ) || isset( $elements['']['album_use_comments'] ) || isset( $elements['']['album_use_reviews'] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li><a href='#elAlbumCreate_features_menu' id='elAlbumCreate_features' data-ipsMenu data-ipsMenu-appendTo='#elAlbumExtrasRow' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'album_create_features', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a><\/li>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/li>\n\t<\/ul>\n\t<div class='ipsType_right cGalleryDialog_submitBar ipsPad ipsAreaBackground_dark'>\n\t\t<button type='submit' class='ipsButton ipsButton_medium ipsButton_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'create_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n\t<div id='elAlbumCreate_features_menu' class='ipsMenu ipsMenu_wide ipsHide'>\n\t\t<div class='ipsPad'>\n\t\t\t<ul class='ipsForm ipsForm_horizontal'>\n\t\t\t\t\nCONTENT;\n\nforeach ( array( 'album_sort_options', 'album_allow_comments', 'album_allow_reviews', 'album_use_comments', 'album_use_reviews' ) as $inputName ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements[''][ $inputName ] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\is_object( $elements[''][ $inputName ] )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t{$elements[''][ $inputName ]->rowHtml($form)}\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t{$elements[''][ $inputName ]}\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n\t<div id='elAlbumCreate_privacy_menu' class='ipsMenu ipsMenu_wide ipsHide'>\n\t\t<div class='ipsPad'>\n\t\t\t<ul class='ipsForm ipsForm_vertical'>\n\t\t\t\t\nCONTENT;\n\nforeach ( array( 'album_type', 'album_allowed_access', 'album_submit_type', 'album_submit_access_members', 'album_submit_access_groups' ) as $inputName ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements[''][ $inputName ] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\nCONTENT;\n\nif ( \\is_object( $elements[''][ $inputName ] )  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t{$elements[''][ $inputName ]->rowHtml($form)}\n\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t{$elements[''][ $inputName ]}\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n\t<div id='elAlbumCreate_owner_menu' class='ipsMenu ipsMenu_wide ipsHide'>\n\t\t<div class='ipsPad'>\n\t\t\t<ul class='ipsForm ipsForm_vertical'>\n\t\t\t\t\nCONTENT;\n\nforeach ( array( 'set_album_owner', 'album_owner' ) as $inputName ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( isset( $elements[''][ $inputName ] ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t{$elements[''][ $inputName ]->rowHtml()}\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n<\/form>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction existingAlbumForm( $category, $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='', $attributes=array(), $sidebar, $form=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$existingAlbums = \\IPS\\gallery\\Album::loadForSubmit( $category );\n$return .= <<<CONTENT\n\n\n<form accept-charset='utf-8' class=\"ipsForm \nCONTENT;\n$return .= htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" \nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\nenctype=\"multipart\/form-data\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n \nCONTENT;\n\nforeach ( $attributes as $k => $v ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\"\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n data-ipsForm data-ipsFormSubmit data-controller='gallery.front.submit.existingAlbums'>\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nif ( \\is_array($v) ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nforeach ( $v as $_k => $_v ):\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n[\nCONTENT;\n$return .= htmlspecialchars( $_k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n]\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $_v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t<ul id='elGallerySubmit_albumChooser' class='ipsScrollbar cGalleryDialog_formPanel ipsList_reset ipsSpacer_bottom'>\n\t\t\nCONTENT;\n\nforeach ( $elements['']['existing_album']->options['options'] as $optionID => $option ):\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\n$album = $existingAlbums[ $optionID ];\n$return .= <<<CONTENT\n\n\t\t\t<li>\n\t\t\t\t<input type='radio' name='existing_album' value='\nCONTENT;\n$return .= htmlspecialchars( $optionID, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' class='ipsJS_hide' \nCONTENT;\n\nif ( $optionID == $elements['']['existing_album']->value ):\n$return .= <<<CONTENT\nchecked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t<div class='ipsAreaBackground_light ipsPad_half ipsClearfix \nCONTENT;\n\nif ( $elements['']['existing_album']->value == $optionID ):\n$return .= <<<CONTENT\ncAlbumSelected\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<div style='background-image: url( \nCONTENT;\n\n$return .= str_replace( array( '(', ')' ), array( '\\(', '\\)' ), $album->coverPhoto('small') );;\n$return .= <<<CONTENT\n );' class='cGallerySubmit_albumImage cGalleryTrimmedImage \nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->group['g_img_album_limit'] && $album->count_imgs >= \\IPS\\Member::loggedIn()->group['g_img_album_limit'] ):\n$return .= <<<CONTENT\nipsFaded\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t<img src='\nCONTENT;\n$return .= htmlspecialchars( $album->coverPhoto( 'small' ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' alt=\"\nCONTENT;\n$return .= htmlspecialchars( $album->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t\t<\/div>\n\t\t\t\t\t<div class='cGallerySubmit_albumInfo'>\n\t\t\t\t\t\t<p class='ipsType_reset ipsType_normal ipsContained_container'><strong class=\"ipsContained ipsType_break\">\nCONTENT;\n$return .= htmlspecialchars( $album->_title, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/strong><\/p>\n\t\t\t\t\t\t<ul class='ipsList_inline ipsType_medium ipsType_light'>\n\t\t\t\t\t\t\t<li><i class='fa fa-camera'><\/i> \nCONTENT;\n\n$pluralize = array( $album->count_imgs ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'num_images', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->group['g_img_album_limit'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( $album->count_imgs >= \\IPS\\Member::loggedIn()->group['g_img_album_limit'] ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'album_full_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\t\nCONTENT;\n\n$pluralize = array( ( \\IPS\\Member::loggedIn()->group['g_img_album_limit'] - $album->count_imgs ) ); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'x_more_images_album', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'pluralize' => $pluralize ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/li>\n\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t<\/ul>\n\t<div class='ipsType_right cGalleryDialog_submitBar ipsPad ipsAreaBackground_dark'>\n\t\t<button type='submit' class='ipsButton ipsButton_medium ipsButton_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'choose_selected_album', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n<\/form>\n\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction postingInformation( $guestPostBeforeRegister, $modQueued, $continueUrl, $guestEmailError=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsType_center ipsPad'>\n\t<form accept-charset='utf-8' class=\"ipsForm\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $continueUrl, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" data-ipsForm>\n\t\t\nCONTENT;\n\nif ( !\\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n\n\t\t\t<h2 class='ipsType_pageTitle'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_guest_post_normal_header', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t<p class='ipsType_large ipsType_reset ipsSpacer_top'>\n\t\t\t\t\nCONTENT;\n\nif ( $guestPostBeforeRegister ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_guest_post_pbr_blurb', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<br>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'guest_post_sign_in', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t<\/p>\n\t\t\t\nCONTENT;\n\nif ( $modQueued ):\n$return .= <<<CONTENT\n\n\t\t\t\t<p class='ipsType_normal ipsType_warning ipsType_reset ipsSpacer_top'>\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_guest_post_mod_approval', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/p>\t\t\t\t\t\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( $guestPostBeforeRegister ):\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"guest_email_submit\" value=\"1\">\n\t\t\t\t<input type=\"email\" name=\"guest_email\" value=\"\" placeholder=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'guest_email', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" class=\"ipsSpacer_top\" required autocomplete=\"email\">\n\t\t\t\t<br><span class=\"ipsType_light\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'guest_email_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\nCONTENT;\n\nif ( $guestEmailError ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<p class=\"ipsType_warning\">\nCONTENT;\n\n$val = \"{$guestEmailError}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"_pi\" value=\"1\">\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<ul class='ipsToolList ipsToolList_horizontal ipsPos_center ipsType_center ipsSpacer_top ipsSpacer_double'>\n\t\t\t\t<li>\n\t\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_medium ipsButton_primary\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'continue', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\n\t\t\t<input type=\"hidden\" name=\"_pi\" value=\"1\">\n\t\t\t<h2 class='ipsType_warning'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'mod_queue_message', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t\nCONTENT;\n\n$warnings = \\IPS\\Member::loggedIn()->warnings( 1, NULL, 'mq' );\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nif ( \\count( $warnings ) or \\IPS\\Member::loggedIn()->mod_posts > 0 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( \\count( $warnings ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<p class=\"ipsType_large ipsType_reset ipsSpacer_top\">\n\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gallery_this_will_be_moderated', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->mod_posts > 0 ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<p class=\"ipsType_large ipsType_reset ipsSpacer_top\">\n\t\t\t\t\t\t\nCONTENT;\n\n$sprintf = array(\\IPS\\DateTime::ts( \\IPS\\Member::loggedIn()->mod_posts )->relative()); $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'restriction_ends', ENT_DISALLOWED, 'UTF-8', FALSE ), FALSE, array( 'sprintf' => $sprintf ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<ul class='ipsToolList ipsToolList_horizontal ipsPos_center ipsType_center ipsSpacer_top ipsSpacer_double'>\n\t\t\t\t\nCONTENT;\n\nforeach ( $warnings as $idx => $warning ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<a href=\"\nCONTENT;\n$return .= htmlspecialchars( $warning->url(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" class='ipsButton ipsButton_medium ipsButton_veryLight' data-ipsDialog data-ipsDialog-size='narrow'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'view_warning_details', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t<li>\n\t\t\t\t\t<button type=\"submit\" class=\"ipsButton ipsButton_medium ipsButton_primary\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'continue', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<\/form>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction processing( $redirector ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div class='ipsPad ipsPad_double'>\n\t<p class='ipsType_large ipsType_center ipsSpacer_bottom'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'saving_images_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\n\t{$redirector}\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction uploadImages( $form, $category ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<form accept-charset='utf-8' method=\"post\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $form->action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" id='elGallerySubmit' enctype=\"multipart\/form-data\">\n\t<div class='cGallerySubmit_uploadImages' data-controller='gallery.front.submit.uploadImages'>\n\t\nCONTENT;\n\nif ( $form->error ):\n$return .= <<<CONTENT\n\n\t\t<div class=\"ipsMessage ipsMessage_error ipsSpacer_bottom\">\n\t\t\t\nCONTENT;\n$return .= htmlspecialchars( $form->error, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t<div class='cGallerySubmit_uploadForm'>\n\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $form->id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\t\t\nCONTENT;\n\nforeach ( $form->hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\n\t\t\t<div class='ipsHide'>\n\t\t\t\t{$form->elements['']['credit_all']->html()}\n\t\t\t\t{$form->elements['']['copyright_all']->html()}\n\t\t\t\t{$form->elements['']['tags_all']->html()}\n\t\t\t\t{$form->elements['']['prefix_all']->html()}\n\t\t\t\t{$form->elements['']['images_order']->html()}\n\t\t\t\t{$form->elements['']['images_info']->html()}\n\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n{$form->elements['']['images_autofollow_all']->html()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\n\t\t\t<div id='elGallerySubmit_imageUploader' class='ipsClear'>\n\t\t\t\t{$form->elements['']['images']->html( $form )}\n\t\t\t\t\nCONTENT;\n\nif ( $form->elements['']['images']->error ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<br>\n\t\t\t\t\t<span class=\"ipsType_warning\">\nCONTENT;\n\n$val = \"{$form->elements['']['images']->error}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n<\/form>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction wrapper( $container, $images, $club, $allImagesForm ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\nif ( $club AND \\is_array( $container ) AND !\\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"clubs\", \"core\" )->header( $club, $container['category'] );\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n<div data-controller='gallery.front.submit.wrapper' data-role=\"submitWrapper\" class='\nCONTENT;\n\nif ( !\\IPS\\Request::i()->isAjax() ):\n$return .= <<<CONTENT\nipsBox_alt\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t<a href='#' data-action='closeDialog' class='cGalleryDialog_close'>&times;<\/a>\n\t<div class='cGalleryDialog'>\n\t\t<div class='cGalleryDialog_inner'>\n\t\t\t<div class='cGalleryDialog_titleAndUpload'>\n\t\t\t\t<div class='ipsPad'>\n\t\t\t\t\t<h1 class='ipsDialog_title'>\n\t\t\t\t\t\t<span data-role='dialogTitle'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'add_gallery_image', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t<div class='ipsType_medium' data-role=\"containerInfo\">\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\is_array( $container ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"submit\", \"gallery\" )->container( $container );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/h1>\n\t\t\t\t<\/div>\n\t\t\t\t<div class='cGalleryDialog_content'>\n\t\t\t\t\t<div class='cGalleryDialog_container \nCONTENT;\n\nif ( \\is_array( $container ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"container\">\n\t\t\t\t\t\t\nCONTENT;\n\nif ( !\\is_array( $container ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t{$container}\n\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t\t\n\t\t\t\t\t<div class='cGalleryDialog_imageForm ipsPad \nCONTENT;\n\nif ( \\is_string( $container ) ):\n$return .= <<<CONTENT\n ipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( \\IPS\\gallery\\Image::moderateNewItems( \\IPS\\Member::loggedIn() ) ):\n$return .= <<<CONTENT\n cGalleryDialog_content_moderated\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n' data-role=\"images\">\n\t\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t<div id='elGallerySubmit_toolBar'>\n\t\t\t\t\t\t\t<a href='#' id='elFileTypes' class='ipsPos_right ipsSpacer_top ipsSpacer_half ipsResponsive_hidePhone ipsType_light ipsType_small' data-ipsMenu>\n\t\t\t\t\t\t\t\t<i class='fa fa-info-circle'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'allowed_file_types_link', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i>\n\t\t\t\t\t\t\t<\/a>\n\t\t\t\t\t\t\t<div id='elFileTypes_menu' class='ipsMenu ipsMenu_auto ipsPad ipsHide'>\n\t\t\t\t\t\t\t\t<h3 class='ipsType_sectionHead'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'attach_allowed_types', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t\t\t\t\t\t\t<div class='ipsSpacer_top ipsSpacer_half ipsResponsive_hidePhone ipsType_light ipsType_small' data-role=\"allowedTypes\"><\/div>\n\t\t\t\t\t\t\t<\/div>\n\n\t\t\t\t\t\t\t<ul class='ipsList_inline ipsClearfix'>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href='#' class='ipsButton ipsButton_light ipsButton_verySmall ipsTruncate ipsTruncate_line' id='elCopyrightMenu' data-ipsMenu data-ipsMenu-appendTo='#elGallerySubmit_toolBar' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'set_copyright_all', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t<a href='#' class='ipsButton ipsButton_light ipsButton_verySmall ipsTruncate ipsTruncate_line' id='elCreditMenu' data-ipsMenu data-ipsMenu-appendTo='#elGallerySubmit_toolBar' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'set_credit_all', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t<li class='\nCONTENT;\n\nif ( !isset( $allImagesForm->elements['']['image_tags'] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n cGalleryTagsButton'>\n\t\t\t\t\t\t\t\t\t<a href='#' class='ipsButton ipsButton_light ipsButton_verySmall ipsTruncate ipsTruncate_line' id='elTagsMenu' data-ipsMenu data-ipsMenu-appendTo='#elGallerySubmit_toolBar' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'set_tags_all', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t\t\t\t<a href='#' class='ipsButton ipsButton_light ipsButton_verySmall ipsTruncate ipsTruncate_line' id='elNotifyOption' data-ipsMenu data-ipsMenu-appendTo='#elGallerySubmit_toolBar' data-ipsMenu-closeOnClick='false'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'gal_notification_options', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n <i class='fa fa-caret-down'><\/i><\/a>\n\t\t\t\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<\/ul>\n\t\t\t\t\t\t\t<hr class='ipsHr'>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div data-role='imageForm' class='ipsPad'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( \\is_array( $container ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t\t{$images}\n\t\t\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/div>\n\t\t\t<\/div>\n\t\t\t<div class='cGallerySubmit_imageDetails ipsAreaBackground_light ipsPad' data-role=\"imageDetails\">\n\t\t\t\t<form id='form_imageDetails' accept-charset='utf-8' method=\"post\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $allImagesForm->action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" enctype=\"multipart\/form-data\">\n\t\t\t\t\t<div class='ipsType_center ipsType_light ipsType_large ipsFaded ipsSpacer_top ipsSpacer_double' data-role='submitHelp'>\n\t\t\t\t\t\t<i class='fa fa-photo ipsType_huge ipsType_light'><\/i>\n\t\t\t\t\t\t<br><br> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_help_info', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/form>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class='cGallerySubmit_bottomBar ipsAreaBackground_dark ipsPad ipsClearfix ipsType_right \nCONTENT;\n\nif ( !\\is_array( $container ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t<span data-role='imageErrors' class='ipsHide ipsType_negative'><i class='fa fa-warning'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'files_had_errors', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<\/span>\n\t\t\t<button type='submit' class='ipsButton ipsButton_medium ipsButton_veryLight' data-role='submitForm' form=\"elGallerySubmit\" disabled>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_all_images', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t<\/div>\n\t<\/div>\n\n\t<div class='ipsMenu ipsMenu_wide ipsPad ipsHide' id='elCopyrightMenu_menu'>\n\t\t<h3 class='ipsType_sectionHead ipsSpacer_bottom ipsSpacer_half'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'copyright', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t<p class='ipsType_reset ipsSpacer_bottom ipsType_neutral'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'set_copyright_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\t{$allImagesForm->elements['']['image_copyright']->html()}\n\t\t<button class='ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth ipsSpacer_top' data-role='saveInfo'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n\n\t<div class='ipsMenu ipsMenu_wide ipsPad ipsHide' id='elCreditMenu_menu'>\n\t\t<h3 class='ipsType_sectionHead ipsSpacer_bottom ipsSpacer_half'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'credit', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t<p class='ipsType_reset ipsSpacer_bottom ipsType_neutral'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'credit_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\t{$allImagesForm->elements['']['image_credit_info']->html()}\n\t\t<button class='ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth ipsSpacer_top' data-role='saveInfo'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n\n\t<div class='ipsMenu ipsMenu_wide ipsPad ipsHide' id='elTagsMenu_menu'>\n\t\t<h3 class='ipsType_sectionHead ipsSpacer_bottom ipsSpacer_half'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'tags', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h3>\n\t\t<p class='ipsType_reset ipsSpacer_bottom ipsType_neutral'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'tags_all_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/p>\n\t\t<div data-role=\"globalTagsField\">\nCONTENT;\n\nif ( isset( $allImagesForm->elements['']['image_tags'] ) ):\n$return .= <<<CONTENT\n{$allImagesForm->elements['']['image_tags']->html()}\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n<\/div>\n\t\t<button class='ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth ipsSpacer_top' data-role='saveInfo'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t<\/div>\n\n\t\nCONTENT;\n\nif ( \\IPS\\Member::loggedIn()->member_id ):\n$return .= <<<CONTENT\n\n\t\t<div class='ipsMenu ipsMenu_auto ipsPad ipsHide' id='elNotifyOption_menu'>\n\t\t\t{$allImagesForm->elements['']['image_auto_follow']->html()} <label for='check_image_auto_follow'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'new_image_comments_notification', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t<button class='ipsButton ipsButton_light ipsButton_small ipsButton_fullWidth ipsSpacer_top' data-role='saveInfo'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'save', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\t<div data-role=\"defaultImageDetailsForm\" class='ipsHide'>\n\t\t<div class='cGallerySubmit_details'>\n\t\t\t<div class='cGallerySubmit_preview ipsBox ipsSpacer_bottom'><\/div>\n\t\t\t<ul class='ipsForm ipsForm_vertical'>\n\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t<label class='ipsFieldRow_label' for='image_details_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_title', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t{$allImagesForm->elements['']['image_title_DEFAULT']->html()}\n\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_title'><\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t<label class='ipsFieldRow_label' for='image_description_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_description', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t<div data-role=\"imageDescriptionEditor\" class='ipsHide'>\n\t\t\t\t\t\t\t{$allImagesForm->elements['']['filedata__image_description_DEFAULT']->html()}\n\t\t\t\t\t\t\t<div class='ipsType_right ipsType_small'><a href='#' data-role=\"imageDescriptionUseTextarea\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'use_plain_editor', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/div>\n\t\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_description'><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<div data-role=\"imageDescriptionTextarea\">\n\t\t\t\t\t\t\t{$allImagesForm->elements['']['image_textarea_DEFAULT']->html()}\n\t\t\t\t\t\t\t<div class='ipsType_right ipsType_small'><a href='#' data-role=\"imageDescriptionUseEditor\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'use_rte_editor', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a><\/div>\n\t\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_textarea'><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\n\t\t\t\t<li class='ipsFieldRow ipsClearfix cGalleryTagsField \nCONTENT;\n\nif ( !isset( $allImagesForm->elements['']['image_tags_DEFAULT'] ) ):\n$return .= <<<CONTENT\nipsHide\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t<a href='#' data-role='addCopyrightCredit'><i class='fa fa-plus'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'specify_image_tags', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t<div class='ipsHide'>\n\t\t\t\t\t\t<label class='ipsFieldRow_label' for='image_tags_default'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_tags', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t\t\nCONTENT;\n\nif ( isset( $allImagesForm->elements['']['image_tags_DEFAULT'] ) ):\n$return .= <<<CONTENT\n\nCONTENT;\n\n$return .= preg_replace( '\/data-ipsAutocomplete(?!\\-)\/', '', $allImagesForm->elements['']['image_tags_DEFAULT']->html() );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_tags'><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\n\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t<a href='#' data-role='addCopyrightCredit'><i class='fa fa-plus'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'add_credit', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t<div class='ipsHide'>\n\t\t\t\t\t\t<label class='ipsFieldRow_label' for='image_credit_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_credit_info', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t\t{$allImagesForm->elements['']['image_credit_info_DEFAULT']->html()}\n\t\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_credit'><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t<a href='#' data-role='addCopyrightCredit'><i class='fa fa-plus'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'add_copyright', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/a>\n\t\t\t\t\t<div class='ipsHide'>\n\t\t\t\t\t\t<label class='ipsFieldRow_label' for='image_copyright_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_copyright', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t\t{$allImagesForm->elements['']['image_copyright_DEFAULT']->html()}\n\t\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_copyright'><\/p>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsFieldRow ipsClearfix ipsHide cGalleryMapField'>\n\t\t\t\t\t<label class='ipsFieldRow_label' for='image_gps_show_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_gps_show', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t{$allImagesForm->elements['']['image_gps_show_DEFAULT']->html()}\n\t\t\t\t\t\t<span class='ipsFieldRow_desc'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_gps_show_desc', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_gps_show'><\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t<li class='ipsFieldRow ipsClearfix ipsHide cGalleryThumbField'>\n\t\t\t\t\t<label class='ipsFieldRow_label' for='image_thumbnail_DEFAULT'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_thumbnail', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t{$allImagesForm->elements['']['image_thumbnail_DEFAULT']->html()}\n\t\t\t\t\t\t<p class='ipsType_reset ipsType_warning ipsHide' data-errorField='image_thumbnail'><\/p>\n\t\t\t\t\t<\/div>\n\t\t\t\t<\/li>\n\t\t\t\t\nCONTENT;\n\nforeach ( $allImagesForm->elements[''] as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( !\\in_array( $k, array( 'image_title_DEFAULT', 'image_tags_DEFAULT', 'image_gps_show_DEFAULT', 'image_thumbnail_DEFAULT', 'image_textarea_DEFAULT', 'image_description_DEFAULT', 'filedata__image_description_DEFAULT', 'image_credit_info_DEFAULT', 'image_copyright_DEFAULT', 'image_auto_follow_DEFAULT', 'image_credit_info', 'image_copyright', 'image_auto_follow', 'image_tags' ) ) ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t\t\t\nCONTENT;\n\n$langString = str_replace( '_DEFAULT', '', $k );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t\t<label class='ipsFieldRow_label' for='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\nCONTENT;\n\n$val = \"{$langString}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\t\t\t{$v->html()}\n\t\t\t\t\t\t\t<\/div>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t<li class='ipsFieldRow ipsClearfix'>\n\t\t\t\t\t<button type='button' class='ipsButton ipsButton_light ipsButton_fullWidth ipsButton_medium' data-role='saveDetails'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_go_back', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t\t<p class='ipsType_light ipsType_medium ipsType_right ipsSpacer_top ipsSpacer_half ipsHide' data-role='savedMessage'>\n\t\t\t\t\t\t<i class='fa fa-check'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'image_info_saved', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<\/p>\n\t\t\t\t<\/li>\n\t\t\t<\/ul>\n\t\t<\/div>\n\t<\/div>\n\t<div data-role=\"editedImageDetailsForm\" class='ipsHide'><\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
