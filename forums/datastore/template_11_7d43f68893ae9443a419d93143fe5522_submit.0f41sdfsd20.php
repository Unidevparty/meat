<?php

return <<<'VALUE'
"namespace IPS\\Theme;\nclass class_calendar_front_submit extends \\IPS\\Theme\\Template\n{\n\tpublic $cache_key = 'ed3c64ff19a712915835e09395045125';\n\tfunction calendarSelector( $form ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n<div class='ipsPad'>\n    {$form}\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction datesForm( $name, $value, $timeZones, $error='' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<div data-controller='calendar.front.submit.dates' id='eventDateSelection' class='ipsAreaBackground ipsPad'>\n\t\nCONTENT;\n\nif ( $error ):\n$return .= <<<CONTENT\n\n\t\t<div class=\"ipsMessage ipsMessage_error\">\nCONTENT;\n\n$val = \"{$error}\"; $return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( $val, ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/div>\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t<div class='ipsGrid ipsGrid_collapsePhone'>\n\t\t<div class='ipsGrid_span5 ipsType_center ipsBox' id='elDateGrid_start'>\n\t\t\t<h2 class='ipsType_sectionTitle ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_start', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t<div class='ipsPad'>\n\t\t\t\t<div class='cCalendarSubmit_field'>\n\t\t\t\t\t<i class='fa fa-calendar'><\/i>\n\t\t\t\t\t<input type=\"date\" data-summaryControl name=\"event_dates[start_date]\" value=\"\nCONTENT;\n\nif ( $value['start_date'] instanceof \\IPS\\DateTime ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['start_date']->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['start_date'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-preferredFormat=\"\nCONTENT;\n\nif ( $value['start_date'] instanceof \\IPS\\DateTime ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['start_date']->fullYearLocaleDate(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['start_date'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" required aria-required='true' class=\"ipsField_short\" data-control=\"date\" id='event_start_date' placeholder='\nCONTENT;\n\n$return .= htmlspecialchars( str_replace( array( 'YYYY', 'MM', 'DD' ), array( \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_yyyy'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_mm'), \\IPS\\Member::loggedIn()->language()->addToStack('_date_format_dd') ), str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<\/div>\n\t\t\t\t<div class='cCalendarSubmit_field' id='start_time_wrap'>\n\t\t\t\t\t<i class='fa fa-clock-o'><\/i>\n\t\t\t\t\t<input name=\"event_dates[start_time]\" id=\"start_time\" type=\"time\" size='12' class=\"ipsField_short\" placeholder=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" step='60' min='00:00' value=\"\nCONTENT;\n$return .= htmlspecialchars( $value['start_time'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t\t\t<\/div>\n\t\t\t\t<br><br>\n\t\t\t\t<ul class='ipsList_inline'>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type=\"checkbox\" role=\"checkbox\" name=\"event_dates[single_day]\" \nCONTENT;\n\nif ( isset($value['single_day']) AND $value['single_day'] ):\n$return .= <<<CONTENT\nchecked aria-checked='true'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n value=\"1\" id=\"check_single_day\">\n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span> <label for='check_single_day'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_single_day', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type=\"checkbox\" role=\"checkbox\" name=\"event_dates[all_day]\" \nCONTENT;\n\nif ( isset($value['all_day']) AND $value['all_day'] ):\n$return .= <<<CONTENT\nchecked aria-checked='true'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n value=\"1\" id=\"check_all_day\"> \n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span> <label for='check_all_day'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_all_day', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span2 ipsType_center' id='elDateGrid_arrow'>\n\t\t\t<strong><i class='fa fa-angle-right'><\/i><\/strong>\n\t\t<\/div>\n\t\t<div class='ipsGrid_span5 ipsType_center ipsBox' id='elDateGrid_end'>\n\t\t\t<h2 class='ipsType_sectionTitle ipsType_reset'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_end', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/h2>\n\t\t\t<div class='ipsPad'>\n\t\t\t\t<div class='cCalendarSubmit_field' id='event_end_date_wrap'>\n\t\t\t\t\t<i class='fa fa-calendar'><\/i>\n\t\t\t\t\t<input type=\"date\" name=\"event_dates[end_date]\" value=\"\nCONTENT;\n\nif ( $value['end_date'] instanceof \\IPS\\DateTime ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['end_date']->format('Y-m-d'), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['end_date'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" data-preferredFormat=\"\nCONTENT;\n\nif ( $value['end_date'] instanceof \\IPS\\DateTime ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['end_date']->fullYearLocaleDate(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n\nif ( $value['start_date'] instanceof \\IPS\\DateTime ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['start_date']->fullYearLocaleDate(), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['end_date'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\" class=\"ipsField_short\" data-control=\"date\" id=\"event_end_date\" placeholder='\nCONTENT;\n\n$return .= htmlspecialchars( mb_strtoupper( str_replace( 'Y', 'YY', \\IPS\\Member::loggedIn()->language()->preferredDateFormat() ) ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'>\n\t\t\t\t<\/div>\n\t\t\t\t<div class='cCalendarSubmit_field' id='end_time_wrap'>\n\t\t\t\t\t<i class='fa fa-clock-o'><\/i>\n\t\t\t\t\t<input name=\"event_dates[end_time]\" id=\"end_time\" type=\"time\" size='12' class=\"ipsField_short\" placeholder=\"\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( '_time_format_hhmm', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\" step='60' min='00:00' value=\"\nCONTENT;\n\nif ( isset( $value['end_time'] ) ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['end_time'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\">\n\t\t\t\t<\/div>\n\t\t\t\t<br><br>\n\t\t\t\t<ul class='ipsList_inline' id='end_date_controls'>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type=\"checkbox\" role=\"checkbox\" name=\"event_dates[no_end_time]\" \nCONTENT;\n\nif ( !isset( $value['end_time'] ) OR !$value['end_time'] ):\n$return .= <<<CONTENT\nchecked aria-checked='true'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n value=\"1\" id=\"check_no_end_time\"> \n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span> <label for='check_no_end_time'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'no_end_time', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/div>\n\t\t<\/div>\n\t<\/div>\n\t<br>\n\n\t<div class='ipsBox ipsPad ipsType_center'>\n\t\t<strong class='ipsType_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_summary', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t<p class='ipsType_large ipsType_reset'>\n\t\t\t<span data-role='dateSummary'><\/span>\n\t\t<\/p>\n\t\t<p class='ipsType_normal' id='elRepeatRow_hidden'>\n\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t<input type='checkbox' role='checkbox' name='event_dates[event_repeat]' value='1' id=\"elRepeatCb\" \nCONTENT;\n\nif ( isset($value['event_repeat']) AND $value['event_repeat'] ):\n$return .= <<<CONTENT\nchecked aria-checked='true'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t<span><\/span>\n\t\t\t<\/span> <label for='elRepeatCb'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_repeats_check', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t<\/p>\n\t\t<div id='elRepeatRow_shown' class='ipsJS_hide'>\n\t\t\t<br>\n\t\t\t<strong class='ipsType_light'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_repeats', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/strong>\n\t\t\t<p class='ipsType_normal ipsType_reset'>\n\t\t\t\t<span id='elRecurEdit' data-ipsMenu data-ipsMenu-closeOnClick='false' data-ipsMenu-appendTo=\"#eventDateSelection\" class='ipsType_normal ipsCursor_pointer'><span data-role='recurringSummary'><\/span> <i class='fa fa-caret-down'><\/i><\/span> &nbsp;&nbsp;<a href='#' id='elRecurRemove' class='ipsType_small'>[\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event_remove_repeat', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n]<\/a>\n\t\t\t<\/p>\n\t\t<\/div>\n\t<\/div>\n\n\t<p class='ipsType_right ipsType_small ipsType_light ipsType_blendLinks' id='elTimezone'>\n\t\t<a href='#elTimezoneSelector_menu' id='elTimezoneSelector' data-ipsMenu data-ipsMenu-closeOnClick=\"false\" data-ipsMenu-appendTo=\"#eventDateSelection\"><i class='fa fa-globe'><\/i> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_timezone', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n: <em data-role=\"timezone_display\"><\/em> &nbsp;<i class='fa fa-caret-down'><\/i><\/a>\n\t<\/p>\n\n\t<div id='elTimezoneSelector_menu' class='ipsHide ipsMenu'>\n\t\t<div class='ipsPad'>\n\t\t\t<select name=\"event_dates[event_timezone]\" id=\"event_timezone\">\n\t\t\t\t\nCONTENT;\n\nforeach ( $timeZones as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t<option value='\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( $value['event_timezone'] == $k  ):\n$return .= <<<CONTENT\nselected\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n data-abbreviated=\"\nCONTENT;\n$return .= htmlspecialchars( $v['short'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $v['text'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/option>\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t<\/select>\n\t\t<\/div>\n\t\t<div class='ipsAreaBackground_light ipsClearfix ipsPad ipsType_center'>\n\t\t\t<button class='ipsButton ipsButton_primary ipsButton_verySmall' role='button' data-action=\"updateTimezone\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'change', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t<\/div>\n\t<\/div>\n\n\n\t<div id='elRecurEdit_menu' class='ipsHide ipsMenu ipsMenu_wide ipsPad'>\n\t\t<ul>\n\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t<label class='ipsFieldRow_label' for=''>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeats', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"forms\", \"core\", 'front' )->select( 'event_dates[event_repeats]', $value['event_repeats'], FALSE, array( 'daily' => \\IPS\\Member::loggedIn()->language()->addToStack('event_rpm_repeats_daily'), 'weekly' => \\IPS\\Member::loggedIn()->language()->addToStack('event_rpm_repeats_weekly'), 'monthly' => \\IPS\\Member::loggedIn()->language()->addToStack('event_rpm_repeats_monthly'), 'yearly' => \\IPS\\Member::loggedIn()->language()->addToStack('event_rpm_repeats_yearly') ), FALSE, '', FALSE, array( 'daily' => array( 'repeatFreqPer_day' ), 'weekly' => array( 'elRepeatOn', 'repeatFreqPer_week' ), 'monthly' => array( 'repeatFreqPer_month' ), 'yearly' => array( 'repeatFreqPer_year' ) ), 'event_repeats' );\n$return .= <<<CONTENT\n\n\t\t\t\t<\/div>\n\t\t\t<\/li>\n\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t<label class='ipsFieldRow_label' for=''>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeatevery', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t<div class='ipsFieldRow_content'>\n\t\t\t\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"forms\", \"core\", 'front' )->select( 'event_dates[event_repeat_freq]', $value['event_repeat_freq'], FALSE, array_combine( range( 1, 30 ), range( 1, 30 ) ), FALSE, '', FALSE, array(), 'event_repeat_freq' );\n$return .= <<<CONTENT\n\n\t\t\t\t\t<span id='repeatFreqPer_day' \nCONTENT;\n\nif ( $value['event_repeats'] and $value['event_repeats'] != 'daily' ):\n$return .= <<<CONTENT\nstyle=\"display:none\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeatevery_day', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<span id='repeatFreqPer_week' \nCONTENT;\n\nif ( $value['event_repeats'] != 'weekly' ):\n$return .= <<<CONTENT\nstyle=\"display:none\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeatevery_week', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<span id='repeatFreqPer_month' \nCONTENT;\n\nif ( $value['event_repeats'] != 'monthly' ):\n$return .= <<<CONTENT\nstyle=\"display:none\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeatevery_month', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t\t<span id='repeatFreqPer_year' \nCONTENT;\n\nif ( $value['event_repeats'] != 'yearly' ):\n$return .= <<<CONTENT\nstyle=\"display:none\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeatevery_year', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<\/div>\n\t\t\t<\/li>\n\t\t\t<li class='ipsFieldRow' id='elRepeatOn'>\n\t\t\t\t<span class='ipsFieldRow_label'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_repeaton', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<ul class='ipsFieldRow_content ipsList_reset'>\n\t\t\t\t\t\nCONTENT;\n\nforeach ( \\IPS\\calendar\\Date::getDayNames() as $day  ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<li class='ipsFieldRow_inlineCheckbox'>\n\t\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t\t<input type=\"checkbox\" role=\"checkbox\" name=\"event_dates[repeat_freq_on_\nCONTENT;\n$return .= htmlspecialchars( $day['ical'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n]\" value=\"1\" id=\"check_repeat_freq_on_\nCONTENT;\n$return .= htmlspecialchars( $day['ical'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" data-iCal='\nCONTENT;\n$return .= htmlspecialchars( $day['ical'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n' \nCONTENT;\n\nif ( ( isset( $value['repeat_freq_on_' . $day['ical'] ] ) AND $value['repeat_freq_on_' . $day['ical'] ] ) ):\n$return .= <<<CONTENT\nchecked aria-checked='true'\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t\t<\/span> <label for=\"check_repeat_freq_on_\nCONTENT;\n$return .= htmlspecialchars( $day['ical'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\nCONTENT;\n$return .= htmlspecialchars( $day['abbreviated'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<\/li>\n\t\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t<span class='ipsFieldRow_label' for=''>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_ends', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/span>\n\t\t\t\t<ul class='ipsFieldRow_content ipsField_fieldList'>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_never' value='never'\nCONTENT;\n\nif ( !$value['repeat_end_occurrences'] AND !$value['repeat_end_date'] ):\n$return .= <<<CONTENT\n checked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<div class='ipsField_fieldList_content'>\n\t\t\t\t\t\t\t<label for=\"event_repeat_end_never\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_ends_never', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_afterx' value='after'\nCONTENT;\n\nif ( $value['repeat_end_occurrences'] ):\n$return .= <<<CONTENT\n checked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<div class='ipsField_fieldList_content'>\n\t\t\t\t\t\t\t<label for=\"event_repeat_end_afterx\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_ends_afterx', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label> <input type='number' name='event_dates[repeat_end_occurrences]' class='cCalendar_shortInput' size='4' min='1' value='\nCONTENT;\n$return .= htmlspecialchars( $value['repeat_end_occurrences'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n'> \nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_ends_occurrencesx', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t\t<li>\n\t\t\t\t\t\t<span class='ipsCustomInput'>\n\t\t\t\t\t\t\t<input type='radio' name='event_dates[repeat_end]' id='event_repeat_end_ondate' value='date'\nCONTENT;\n\nif ( $value['repeat_end_date'] ):\n$return .= <<<CONTENT\n checked\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n>\n\t\t\t\t\t\t\t<span><\/span>\n\t\t\t\t\t\t<\/span>\n\t\t\t\t\t\t<div class='ipsField_fieldList_content'>\n\t\t\t\t\t\t\t<label for=\"event_repeat_end_ondate\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'event_rpm_ends_date', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/label> <input type='date' name='event_dates[repeat_end_date]' class='cCalendar_shortInput' size='10' value='\nCONTENT;\n\nif ( $value['repeat_end_date'] instanceof \\IPS\\calendar\\Date ):\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['repeat_end_date']->mysqlDatetime( FALSE ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nelse:\n$return .= <<<CONTENT\n\nCONTENT;\n$return .= htmlspecialchars( $value['repeat_end_date'], ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n'>\n\t\t\t\t\t\t<\/div>\n\t\t\t\t\t<\/li>\n\t\t\t\t<\/ul>\n\t\t\t<\/li>\n\t\t\t<li class='ipsFieldRow'>\n\t\t\t\t<div class='ipsFieldRow_content ipsType_center'>\n\t\t\t\t\t<button type='button' class='ipsButton ipsButton_light' role='button' data-action=\"updateRepeat\">\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'ok', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t\t\t<\/div>\n\t\t\t<\/li>\n\t\t<\/ul>\n\t<\/div>\n<\/div>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction submitForm( $id, $action, $elements, $hiddenValues, $actionButtons, $uploadField, $class='' ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n<form accept-charset='utf-8' class=\"ipsForm \nCONTENT;\n$return .= htmlspecialchars( $class, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" action=\"\nCONTENT;\n$return .= htmlspecialchars( $action, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" method=\"post\" \nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\nenctype=\"multipart\/form-data\"\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n data-ipsForm data-ipsFormSubmit>\n\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $id, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n_submitted\" value=\"1\">\n\t\nCONTENT;\n\nforeach ( $hiddenValues as $k => $v ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"\nCONTENT;\n$return .= htmlspecialchars( $k, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $v, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( $uploadField ):\n$return .= <<<CONTENT\n\n\t\t<input type=\"hidden\" name=\"MAX_FILE_SIZE\" value=\"\nCONTENT;\n$return .= htmlspecialchars( $uploadField, ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\t<input type=\"hidden\" name=\"plupload\" value=\"\nCONTENT;\n\n$return .= htmlspecialchars( md5( mt_rand() ), ENT_QUOTES | ENT_DISALLOWED, 'UTF-8', FALSE );\n$return .= <<<CONTENT\n\">\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\n\t<div class='ipsBox'>\n\t\t<ul class='ipsForm ipsForm_vertical'>\n\t\t\t\nCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $inputName == 'event_dates' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t{$input->html()}\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t\t<ul class='ipsForm ipsPad ipsForm_vertical'>\n\t\t\t\nCONTENT;\n\nforeach ( $elements as $collection ):\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nforeach ( $collection as $inputName => $input ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\nCONTENT;\n\nif ( $inputName != 'event_dates' ):\n$return .= <<<CONTENT\n\n\t\t\t\t\t\t{$input}\n\t\t\t\t\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\t\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t\t\nCONTENT;\n\nendforeach;\n$return .= <<<CONTENT\n\n\t\t<\/ul>\n\t\t<br>\n\t\t<div class='ipsAreaBackground ipsPad ipsType_center'>\n\t\t\t<button type='submit' class='ipsButton ipsButton_large ipsButton_primary'>\nCONTENT;\n\n$return .= \\IPS\\Member::loggedIn()->language()->addToStack( htmlspecialchars( 'submit_event', ENT_DISALLOWED, 'UTF-8', FALSE ), TRUE, array(  ) );\n$return .= <<<CONTENT\n<\/button>\n\t\t<\/div>\n\t<\/div>\n<\/form>\nCONTENT;\n\n\t\treturn $return;\n}\n\n\tfunction submitPage( $output, $pageHeader, $calendar=NULL ) {\n\t\t$return = '';\n\t\t$return .= <<<CONTENT\n\n\n\nCONTENT;\n\nif ( $calendar and $club = $calendar->club() ):\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nif ( \\IPS\\Settings::i()->clubs and \\IPS\\Settings::i()->clubs_header == 'full' ):\n$return .= <<<CONTENT\n\n\t\t\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"clubs\", \"core\" )->header( $club, $calendar );\n$return .= <<<CONTENT\n\n\t\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\nCONTENT;\n\nendif;\n$return .= <<<CONTENT\n\n\n\nCONTENT;\n\n$return .= \\IPS\\Theme::i()->getTemplate( \"global\", \"core\" )->pageHeader( $pageHeader );\n$return .= <<<CONTENT\n\n\n{$output}\nCONTENT;\n\n\t\treturn $return;\n}}"
VALUE;
